{{ $href := .Get "href"}}
{{ $src := .Get "src"}}
{{ $width := .Get "width"}}
{{ $height := .Get "height"}}
{{ $alt := .Get "alt"}}
{{ $caption := .Get "caption"}}

<figure style="text-align: center">
  <a href="{{ $href }}">
    {{/* full width on mobile screen else 50%; */}}
    <style scoped>
      img.figure-img-srcset {
        height: auto;
        width: 100%;
        border-radius: 3px;
      }
      @media screen and (min-width: 390px) {
        img.figure-img-srcset {
          width: 50%;
        }
      }
    </style>

    <img
      class="figure-img-srcset"
      loading="lazy"
      width="{{ $width }}"
      height="{{ $height }}"
      src="{{ $src }}"
      srcset="{{.Inner}}"
      alt="{{ $alt }}"
      style="background-color: #f1f1f1;"
    />
  </a>
  <figcaption>
    <p>{{ $caption }}</p>
  </figcaption>
</figure>
